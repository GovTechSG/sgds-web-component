import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import { html } from "lit";
import { withWebComponentsKnobs } from "storybook-addon-web-components-knobs";
import { withKnobs, text, number } from "@storybook/addon-knobs";
import "../lib/Input";

<Meta
  title="Components/Input"
  argTypes={{
    type: {
      control: 'select',
      options: [
        'text',
        'date',
        'email',
        'number',
        'password',
        'url',
      ],
      defaultValue: 'text',
      table: { 
        category: "props",
        type: { summary: "string" },
      },
      description: "The input's type"
    },
    name:{
      control: "text",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: "The input's name attribute"
    },
    label:{
      control: "text",
      defaultValue: 'Label',
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: "The input's label"
    },
    hintText:{
      control: "text",
      defaultValue: 'This is a hint text',
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: "The input's hint text below the label"
    },
    id:{
      control: 'text',
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: "The input's unique id"
    },
    inputClasses: { 
      control: "text",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: 'Can be used to insert any utility classes such as `is-invalid` for validation with required field'
    },
    iconName:{
      control: "text",
      defaultValue: "badge-8k-fill",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description:"Optional. The name of the bootstrap's icon."
    },
    value:{
      control: 'text',
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description:"The input's value attribute."
    },
    placeholder:{
      control: 'text',
      defaultValue: "this is a placehlder text",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description:"The input's placeholder text."
    },
    pattern:{
      control: 'text',
      defaultValue: "[A-Za-z]{5}",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description:'A pattern to validate input against.',
    },
    feedback:{
      control:'text',
      defaultValue: "this is an error message",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: 'Feedback text for error state when validated'
    },
    autofocus:{
      control:'boolean',
      defaultValue: false,
      table:{ 
        category: "props",
        type: { summary: "boolean" },
      },
      description: 'Autofocus the input'
    },
    disabled:{
      control:'boolean',
      defaultValue: false,
      table:{ 
        category: "props",
        type: { summary: "boolean" },
      },
      description: 'Disables the input.'
    },
    required:{
      control:'boolean',
      defaultValue: false,
      table:{ 
        category: "props",
        type: { summary: "boolean" },
      },
      description: 'Makes the input a required field.'
    },
    readonly:{
      control:'boolean',
      defaultValue: false,
      table:{ 
        category: "props",
        type: { summary: "boolean" },
      },
      description: 'Makes the input a read only field'
    },
    minlength:{
      control:'text',
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: 'Sets the minimum length of the input'
    },
    maxlength:{
      control:'text',
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: 'Sets the maximum length of the input'
    },
    'sgds-change':{
      table:{ 
        category: "Events",
        type: { summary: "Event" },
      },
      description: "Emitted when an alteration to the control's value is committed by the user"
    },
    'sgds-input':{
      table:{ 
        category: "Events",
        type: { summary: "Event" },
      },
      description: 'Emitted when the control receives input and its value changes.'
    },
  }}
/>

export const Template = (args) =>
  html`
    <sgds-input 
      .type=${args.type} 
      .label=${args.label} 
      .hintText=${args.hintText} 
      .name=${args.name}
      .id=${args.id}
      .inputClasses=${args.inputClasses}
      .value=${args.value}
      .pattern=${args.pattern} 
      .feedback=${args.feedback}
      .iconName=${args.iconName}
      .placeholder=${args.placeholder}
      ?autofocus=${args.autofocus}
      ?disabled=${args.disabled}
      ?required=${args.required}
      ?readonly=${args.readonly}
      ?minlength=${args.minlength}
      ?maxlength=${args.maxlength}
    >
    </sgds-input>
  `;

# SgdsInput

Text inputs allow your users to enter letters, numbers and symbols on a single line.

<Canvas>
  <Story name="Basic" args={{ type: "text" }}>
    {Template.bind({})}
  </Story>
</Canvas>

## API

```jsx
import { SgdsInput } from "@govtechsg/sgds-web-component";
```

<ArgsTable story="Basic" />

