import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import { html } from "lit-html";
import "../lib/Alert";
import "../lib/CloseButton";

<Meta
  title='Components/Alert'
  argTypes={{
    alertClasses: {
      control: "text",
      table: { category: "props", type: { summary: "string" }, },
      description:
        "Optional. Can be used to insert any utility classes such as `me-auto`",
    },
    variant: {
      control: "select",
      options: [
        "primary",
        "secondary",
        "success",
        "danger",
        "warning",
        "info",
        "light",
      ],
      defaultValue: "primary",
      table: { category: "props", type: { summary: "string" }, },
      description: "The Alert visual color variant",
    },
    dismissible: {
      control: "boolean",
      defaultValue: false,
      table: { category: "props" , type: { summary: "boolean" }, },
      description:
        "Renders a properly aligned dismiss button, as well as adding extra horizontal padding to the Alert",
    },
    show: {
      control: "boolean",
      defaultValue: true,
      table: { category: "props", type: { summary: "boolean" }, },
      description: "Controls the visual state of the Alert",
    },
    closeLabel: {
      control: "text",
      table: { category: "props", type: { summary: "string" }, },
      description: "Sets the aria-label for alert close button",
    },
    "sgds-close": {
      description: "Emitted event when dismissible button is clicked",
      table: {
        category: `Event: SgdsAlert`,
      },
    },
  }}
/>

export const Template = (args) =>
  html`
    <sgds-alert
      .alertClasses=${args.alertClasses}
      .dismissible=${args.dismissible}
      .variant=${args.variant}
      .show=${args.show}
      .closeLabel=${args.closeLabel}
      ><sl-icon name="info-circle" class="flex-shrink-0 me-4"></sl-icon>
      <div>
        This is an Alert component. You may add the dismissible option.
      </div></sgds-alert
    >
  `;

export const TemplateLinks = (args) =>
  html`
    <sgds-alert alertClasses="d-flex align-items-center"
      ><sl-icon name="info-circle" class="flex-shrink-0 me-4"></sl-icon>
      <div>
        This is a primary alert with&nbsp;<a class="alert-link" href="#"
          >an example link</a
        >. Give it a click if you like.
      </div>
    </sgds-alert>
  `;

export const TemplateAddContent = (args) =>
  html`
    <sgds-alert
      variant="success"
      alertClasses="d-flex align-items-center"
      dismissible
    >
      <sl-icon
        name="info-circle"
        class="flex-shrink-0 me-4 align-self-start mt-2"
      ></sl-icon>
      <div>
        <h4 class="alert-heading">Hey, nice to see you</h4>
        <p>
          Aww yeah, you successfully read this important alert message. This
          example text is going to run a bit longer so that you can see how
          spacing within an alert works with this kind of content.
        </p>
        <hr />
        <p className="mb-0">
          Whenever you need to, be sure to use margin utilities to keep things
          nice and tidy.
        </p>
      </div>
    </sgds-alert>
  `;

# SgdsAlert

## Basic

Provide contextual feedback messages for typical user actions with the handful of available and flexible alert messages.

<Canvas>
  <Story name='Basic' args={{ alertClasses: "d-flex align-items-center" }}>
    {Template.bind({})}
  </Story>
</Canvas>

## API

```jsx
import { SgdsAlert } from "@govtechsg/sgds-web-component";
```

<ArgsTable story='Basic' />

## Links

For links, use the following code snippets for any of the alert variants

<Canvas>
  <Story name='Links'>{TemplateLinks.bind({})}</Story>
</Canvas>

## Additional Content

Alerts can contain whatever content you like. Headers, paragraphs, dividers etc.

<Canvas>
  <Story name='Additional Content'>{TemplateAddContent.bind({})}</Story>
</Canvas>

## Dismissible

Add the dismissible prop to add a functioning dismiss button to the Alert.

<Canvas>
  <Story
    name='Dismissible'
    args={{ dismissible: "true", alertClasses: "d-flex align-items-center" }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
