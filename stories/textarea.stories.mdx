import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import { html } from "lit";
import { withWebComponentsKnobs } from "storybook-addon-web-components-knobs";
import { withKnobs, text, number } from "@storybook/addon-knobs";
import "../lib/Textarea";

<Meta
  title="Components/Textarea"
  argTypes={{
    name:{
      control: "text",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: "The textarea's name attribute"
    },
    label:{
      control: "text",
      defaultValue: 'Label',
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: "The textarea's label"
    },
    textareaId:{
      control: 'text',
      defaultValue: 'textarea',
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: "The textarea's unique id"
    },
    textareaClasses: { 
      control: "text",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: 'Can be used to insert any classes such as `mt-2`'
    },
    value:{
      control: 'text',
      defaultValue: "",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description:"The textarea's value attribute."
    },
    rows:{
      control: 'number',
      defaultValue: 4,
      table:{ 
        category: "props",
        type: { summary: "number" },
      },
      description:"The number of rows to display by default."
    },
    placeholder:{
      control: 'text',
      defaultValue: "this is a placeholder text",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description:"The textarea's placeholder text."
    },
    invalidFeedback:{
      control:'text',
      defaultValue: "Please key in 5 letters",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: 'Feedback text for error state when validated'
    },
    autofocus:{
      control:'boolean',
      defaultValue: false,
      table:{ 
        category: "props",
        type: { summary: "boolean" },
      },
      description: 'Autofocus the input'
    },
    disabled:{
      control:'boolean',
      defaultValue: false,
      table:{ 
        category: "props",
        type: { summary: "boolean" },
      },
      description: 'Disables the input.'
    },
    required:{
      control:'boolean',
      defaultValue: false,
      table:{ 
        category: "props",
        type: { summary: "boolean" },
      },
      description: 'Makes the input a required field.'
    },
    readonly:{
      control:'boolean',
      defaultValue: false,
      table:{ 
        category: "props",
        type: { summary: "boolean" },
      },
      description: 'Makes the input a read only field'
    },
    minlength:{
      control:'text',
      defaultValue: "0",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: 'Sets the minimum length of the input'
    },
    maxlength:{
      control:'text',
      defaultValue: "100",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: 'Sets the maximum length of the input'
    },
    spellcheck:{
      control:'boolean',
      defaultValue: false,
      table:{ 
        category: "props",
        type: { summary: "boolean" },
      },
      description: 'Enables spell checking on the textarea'
    },
    autocorrect:{
      control:'select',
      options: [
        'on',
        'off',
      ],
      defaultValue: "off",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: "The textarea's autocorrect attribute."
    },
    resize:{
      control:'select',
      options: [
        'none',
        'vertical',
      ],
      defaultValue: "none",
      table:{ 
        category: "props",
        type: { summary: "string" },
      },
      description: "Controls how the textarea can be resized."
    },
    'sgds-change':{
      table:{ 
        category: "Events",
        type: { summary: "Event" },
      },
      description: "Emitted when an alteration to the control's value is committed by the user"
    },
    'sgds-input':{
      table:{ 
        category: "Events",
        type: { summary: "Event" },
      },
      description: 'Emitted when the control receives input and its value changes.'
    },
    'sgds-focus':{
      table:{ 
        category: "Events",
        type: { summary: "Event" },
      },
      description: "Emitted when textarea is in focus"
    },
    'sgds-blur':{
      table:{ 
        category: "Events",
        type: { summary: "Event" },
      },
      description: "Emitted when textarea is not focus"
    },
    select:{
      table:{ 
        category: "Methods",
        type: { summary: "Method" },
      },
      description: "Select textarea content"
    },
    focus:{
      table:{ 
        category: "Methods",
        type: { summary: "Method" },
      },
      description: "Sets the focus of textarea. <br>Parameters (options: [FocusOptions](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus#parameters))",
    },
  }}
/>

export const Template = (args) =>
  html`
    <sgds-textarea 
      .label=${args.label} 
      .name=${args.name}
      .id=${args.textareaId}
      .textareaClasses=${args.textareaClasses}
      value=${args.value}
      rows=${args.rows}
      .invalidFeedback=${args.invalidFeedback}
      .placeholder=${args.placeholder}
      ?autofocus=${args.autofocus}
      ?disabled=${args.disabled}
      ?required=${args.required}
      ?readonly=${args.readonly}
      minlength=${args.minlength}
      maxlength=${args.maxlength}
      ?spellcheck=${args.spellcheck}
      ?autocorrect=${args.autocorrect}
      resize=${args.resize}
    >
    </sgds-textarea>
  `;

# SgdsInput

Text inputs allow your users to enter letters, numbers and symbols on a single line.

<Canvas>
  <Story name="Basic" args={{ name: "textarea" }}>
    {Template.bind({})}
  </Story>
</Canvas>

## API

```jsx
import { SgdsATextArea } from "@govtechsg/sgds-web-component/Textarea";
```

<ArgsTable story="Basic" />

