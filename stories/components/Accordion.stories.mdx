import { Canvas, Meta, Story, ArgsTable, Props } from "@storybook/addon-docs";
import { html } from "lit-html";
import "../../lib/Accordion";
import { getCustomElements } from '@storybook/web-components';



// TODO - categorize props to Accordion and AccordionItem
// TODO - document all cssparts
<Meta
  title="Components/Accordion"
  argTypes={{
    summary:{
      control: "text" ,
    },
    accordionClasses: { 
      control: "text" ,
    },
    accordionItemClasses: { 
      control: "text" ,
    },
    'allowMultiple':{
      control: "boolean" ,
      table: { category: "props" },
    },
  }}
/>


export const Template = (args) =>
  html`
  <sgds-accordion-item
      summary="Solo Accordion"
      accordionItemClasses="mb-4"
      > 
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Maiores soluta eaque fugit fuga distinctio? Eum.
  </sgds-accordion-item>
  <sgds-accordion
    .allowMultiple=${args.allowMultiple}
    .accordionClasses=${args.accordionClasses} 
    >
      <sgds-accordion-item
      .summary=${args.summary}
      .accordionItemClasses=${args.accordionItemClasses} 
      > 
      ${console.log(getCustomElements())}
      </sgds-accordion-item>
      <sgds-accordion-item
      summary="Accordion 1"
      .accordionItemClasses=${args.accordionItemClasses} 
      > 
        ${args.default} 
      </sgds-accordion-item>
      <sgds-accordion-item
      summary="Accordion 2"
      .accordionItemClasses=${args.accordionItemClasses} 
      > 
        ${args.default} 
      </sgds-accordion-item>
      <sgds-accordion-item
      summary="Accordion 3"
      .accordionItemClasses=${args.accordionItemClasses} 
      > 
        ${args.default} 
      </sgds-accordion-item>
    </sgds-accordion>
  `;

# SgdsAccordion
## `<sgds-accordion>`,`<sgds-accordion-item>`

A dropdown mechanism that allow users to either show or hide related content.

<Canvas>
  <Story name="Basic" args={{ summary: "This is an accordion" }}>
    {Template.bind({})}
  </Story>
</Canvas>

## API

<Props of="sgds-accordion-item" />
<Props of="sgds-accordion" />


export const MethodsTable = () => {
  const {modules} =  getCustomElements()
  // const accordionModule = modules[0]
  const accordionMembers = modules[0].declarations[0].members
    console.log(accordionMembers)
  const accordionMethods = accordionMembers.filter(member => member.kind === "method" && member.privacy === "public")
  console.log({accordionMethods})
return (
<table>
<thead>
  <tr>
    <th>Name</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  {accordionMethods.map(method => (
    <tr>
      <td>{method.name}</td>
      <td>{method.description}</td>
    </tr>
  ))}
</tbody>
</table>)
}

# Methods 
 <MethodsTable />