import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import { html } from "lit-html";
import "../../lib/Modal";
import "../../lib/Button";

<Meta
  title="Components/Modal"
  argTypes={{
    open: {
      control: "boolean",
      table: { category: "props" },
      description:
        "Indicates whether or not the modal is open. You can use this in lieu of the show/hide methods.",
      defaultValue: false,
    },
    title: {
      control: "text",
      table: { category: "props" },
      description: "The modal's title as displayed in the header",
      defaultValue: "This is a title",
    },
    titleIcon: {
      control: "text",
      table: { category: "props" },
      description: "The modal's icon as displayed in the header",
      defaultValue: "stack",
    },
    "sgds-show": {
      table: { category: "Events" },
      description: "Emitted when the modal opens.",
    },
    "sgds-after-show": {
      table: { category: "Events" },
      description:
        "	Emitted after the modal opens and all animations are complete.",
    },
    "sgds-hide": {
      table: { category: "Events" },
      description: "Emitted when the modal closes.",
    },
    "sgds-after-hide": {
      table: { category: "Events" },
      description:
        "Emitted after the modal closes and all animations are complete.",
    },
    hide: {
      table: { category: "Methods" },
      description: "Hides the modal.",
    },
    show: {
      table: { category: "Methods" },
      description: "Shows the modal.",
    },
    default: {
      control: "text",
      table: { category: "Slots" },
      description: "The modal's content.",
      defaultValue: "This is the modal body",
    },
    "label ": {
      table: { category: "Slots" },
      description: "The modal's label.",
    },
    footer: {
      table: { category: "Slots" },
      description: "The modal's footer.",
    },
    "--sgds-modal-width": {
      control: "text",
      table: { category: "CSS Custom Properties" },
      description:
        "The preferred width of the modal. Note that the modal will shrink to accommodate smaller screens.",
    },
  }}
/>

export const Template = (args) => {
  return html`
    <sgds-button @click=${showModal}>Open Modal</sgds-button>
    <sgds-modal
      .open=${args.open}
      .title=${args.title}
      .titleIcon=${args.titleIcon}
    >
      ${args.default}
      <sgds-button @click=${closeModal} slot="footer" variant="link" class="close-modal"
        >Close</sgds-button
      >
      <sgds-button slot="footer" variant="primary" type="submit" form="formA"
        >Submit</sgds-button
      >
    </sgds-modal>
  `;
};

export const showModal = () => {
  const modal = document.querySelector('sgds-modal')
  modal.show()
}
export const closeModal = () => {
  const modal = document.querySelector('sgds-modal')
  modal.hide()
}

# Modal

## `<sgds-modal>`

The modal component inform users about a specific task and may contain critical information which users then have to make a decision. E.g Accepting the T&Cs during signup

<Canvas>
  <Story name="Basic" args={{}}>
    {Template.bind({})}
  </Story>
</Canvas>

## API

<ArgsTable story="Basic" />

## Dependency

`<sgds-button>`
