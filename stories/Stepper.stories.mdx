import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import { html } from "lit-html";
import "../lib/Stepper";

<Meta
  title='Components/Stepper'
  argTypes={{
    steps: {
      control: "object",
      description:
        "Array of objects that can be passed in with properties of `title` and `stepHeader` as follows:",
      table: {
        category: "props",
        type: {
          summary: `
    [{
        title: string;
        stepHeader: string;
    }]
    `,
        },
      },
    },
    activeStep: {
      control: "number",
      defaultValue: 1,
      description: "Specify the initial active state starting from index 0",
      table: {
        category: "props",
        type: {
          summary: "number",
        },
      },
    },
    "step-[number]": {
      control: "disable",
      description:
        "named slot content for each step eg. `step-1` named slot for 1st step",
      table: {
        category: "slots",
        type: {
          summary: "string",
        },
      },
    },
    methodType: {
      control: "disable",
      description:
        "prop that holds value to invoke the stepper methods such as: `decrement`, `increment`, `first` and `last`. To be used with refId.",
      table: {
        category: "props `sgds-button`",
        type: {
          summary: "string",
        },
      },
    },
    refId: {
      control: "text",
      description:
        "Takes an id reference to `sgds-stepper` component, allowing to invoke the different methodType available.",
      table: {
        category: "props `sgds-button`",
        type: {
          summary: "string",
        },
      },
    },
    decrementStep: {
      control: "disable",
      description:
        "When invoked with methodType `decrement`, decrement to the previous step",
      table: {
        category: "methods: SgdsStepper",
        type: {
          summary: "function",
        },
      },
    },
    incrementStep: {
      control: "disable",
      description:
        "When invoked with methodType `increment`, increment to the next step",
      table: {
        category: "methods: SgdsStepper",
        type: {
          summary: "function",
        },
      },
    },
    firstStep: {
      control: "disable",
      description:
        "When invoked with methodType `first`, decrements to the first step",
      table: {
        category: "methods: SgdsStepper",
        type: {
          summary: "function",
        },
      },
    },
    lastStep: {
      control: "disable",
      description:
        "When invoked with methodType `last`, increments to the last step",
      table: {
        category: "methods: SgdsStepper",
        type: {
          summary: "function",
        },
      },
    },
  }}
/>

export const Template = ({ steps, activeStep, namedSlot }) => {
  return html`
    <sgds-stepper .steps=${steps} .activeStep=${activeStep}> </sgds-stepper>
  `;
};

export const TemplateExample = ({ steps, activeStep, namedSlot }) => {
  return html`
    <sgds-stepper id="myStepper" .steps=${steps} .activeStep=${activeStep}>
      <div slot="step-1" class="mb-4">
        <div class="row">
          <div class="col mb-2">
            <form>
              <sgds-input
                label="First Name"
                hintText="Enter first name"
                required
              ></sgds-input>
              <sgds-input
                label="Last Name"
                hintText="Enter last name"
                required
              ></sgds-input>
              <sgds-radiogroup required>
                <sgds-radio value="1" isInline>Option 1</sgds-radio>
                <sgds-radio value="2" isInline>Option 2</sgds-radio>
              </sgds-radiogroup>
            </form>
          </div>
        </div>
      </div>
      <div slot="step-2" class="mb-4">
        <div class="row">
          <div class="col mb-2">
            <form>
              <sgds-input
                label="Email"
                hintText="Enter email"
                required
              ></sgds-input>
              <sgds-input
                label="Address"
                hintText="eg. Blk 243 Sengkang Avenue #02-11"
                required
              ></sgds-input>
            </form>
          </div>
        </div>
      </div>
      <div slot="step-3" class="mb-4">
        <div class="row">
          <div class="col mb-2">
            <form>
              <sgds-input label="Contact Number" required></sgds-input>
              <sgds-input label="Employment history" required></sgds-input>
            </form>
          </div>
        </div>
      </div>
    </sgds-stepper>
    <div class="d-flex justify-content-between">
      <div>
        <sgds-button
          class="me-3"
          refId="myStepper"
          methodType="increment"
          variant="primary"
          >Next</sgds-button
        >
        <sgds-button
          refId="myStepper"
          methodType="decrement"
          variant="secondary"
          >Back</sgds-button
        >
      </div>
      <div>
        <sgds-button
          class="m-2"
          refId="myStepper"
          methodType="first"
          variant="danger"
          >Go to first page</sgds-button
        >
        <sgds-button
          class="m-2"
          refId="myStepper"
          methodType="last"
          variant="warning"
          >Go to last page</sgds-button
        >
      </div>
    </div>
  `;
};

# Stepper

Stepper informs users which step they are in a form or process. Each step markers indicate the stage of the process.

The default Stepper component consist of step markers and stepHeaders. The step markers consist of three states, inactive, active and done, indicated by the colors: grey, border-purple and filled-purple respectively.

The step markers are clickable for backwards navigation.

<Canvas>
  <Story
    name='Basic'
    args={{
      steps: [
        {
          title: "1",
          stepHeader: "Marker 1",
        },
        {
          title: "2",
          stepHeader: "Marker 2",
        },
        {
          title: "3",
          stepHeader: "Marker 3",
        },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## API

```jsx
import { SgdsStepper } from "@govtechsg/sgds-web-component/Stepper";
```

<ArgsTable story='Basic' />

## Example

Try out the Stepper Component functionality below with Forms and Buttons

<Canvas>
  <Story
    name='Example'
    args={{
      steps: [
        {
          title: "1",
          stepHeader: "Personal Details",
        },
        {
          title: "2",
          stepHeader: "Address & Contact Information",
        },
        {
          title: "3",
          stepHeader: "Additional Details",
        },
      ],
      activeStep: 1,
    }}
  >
    {TemplateExample.bind({})}
  </Story>
</Canvas>
