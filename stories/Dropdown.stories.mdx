import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import { html } from "lit";
import { withWebComponentsKnobs } from "storybook-addon-web-components-knobs";
import { withKnobs, text, number } from "@storybook/addon-knobs";
import "../lib/Dropdown";
import { partDescription, dropdownElementProps } from "./common";

<Meta
  title="Components/Dropdown"
  argTypes={{
    ...dropdownElementProps("SgdsDropdown"),
    default: {
      description: "default slot for SgdsDropdownItem element",
      table: {
        category: "slot: SgdsDropdown",
      },
    },
    menu: {
      table: { category: "part: SgdsDropdown" },
      description: partDescription,
    },
    showMenu: {
      control: "disable",
      description: "When invoked, opens the dropdown menu",
      table: {
        category: "methods: SgdsDropdown",
        type: {
          summary: "function",
        },
      },
    },
    hideMenu: {
      control: "disable",
      description: "When invoked, hides the dropdown menu",
      table: {
        category: "methods: SgdsDropdown",
        type: {
          summary: "function",
        },
      },
    },
    // sgds-dropdown-item
    active: {
      control: "boolean",
      description: "when true, sets the active stylings of .dropdown-item",
      table: {
        category: "props: SgdsDropdownItem",
        defaultValue: { summary: false },
        type: {
          summary: "boolean",
        },
      },
    },
    href: {
      control: "text",
      description: "Href attribute for anchor element in SgdsDropdownItem",
      table: {
        defaultValue: { summary: "" },
        category: "props: SgdsDropdownItem",
        type: {
          summary: "string",
        },
      },
    },
    disabledDI: {
      name: "disabled",
      control: "boolean",
      description: "Disables the dropdown item when true",
      table: {
        defaultValue: { summary: "false" },
        category: "props: SgdsDropdownItem",
        type: {
          summary: "string",
        },
      },
    },
  }}
/>

export const Template = ({
  noFlip,
  menuAlignRight,
  drop,
  popperOpts,
  togglerId,
  togglerText,
  variant,
  active,
  href,
  disabledDI,
  close,
  menuIsOpen,
  dropdownDisabled,
}) => {
  return html`
    <sgds-dropdown
      .togglerText=${togglerText}
      .noFlip=${noFlip}
      .drop=${drop}
      .menuAlignRight=${menuAlignRight}
      .popperOpts=${popperOpts}
      .togglerId=${togglerId}
      .variant=${variant}
      .close=${close}
      .menuIsOpen=${menuIsOpen}
      .disabled=${dropdownDisabled}
    >
      <sgds-dropdown-item
        .href=${href}
        .active=${active}
        .disabled=${disabledDI}
        >item #1 (argsTable controlled)</sgds-dropdown-item
      >
      <sgds-dropdown-item href="https://google.com">item #2</sgds-dropdown-item>
      <sgds-dropdown-item href="#" disabled>item #3</sgds-dropdown-item>
    </sgds-dropdown>
  `;
};

# SgdsDropdown, SgdsDropdownItem


<Story
  name="Basic"
  args={{
    togglerText: "Dropdown",
    variant: "secondary",
    href: "#",
  }}
>
  {Template.bind({})}
</Story>

```jsx
// SgdsDropdown uses SgdsButton under the hood
import {
  SgdsDropdown,
  SgdsDropdownItem,
  SgdsButton,
} from "@govtechsg/sgds-web-component/Dropdown";
```

<ArgsTable story="Basic" />


```jsx
<sgds-dropdown>
  <sgds-dropdown-item>item #1 (argsTable controlled)</sgds-dropdown-item>
  <sgds-dropdown-item href="https://google.com">item #2</sgds-dropdown-item>
  <sgds-dropdown-item href="#" disabled>
    item #3
  </sgds-dropdown-item>
</sgds-dropdown>
``` 