import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import { html } from "lit";
import { withWebComponentsKnobs } from "storybook-addon-web-components-knobs";
import { withKnobs, text, number } from "@storybook/addon-knobs";
import "../lib/Dropdown";
import { partDescription, dropdownElementProps } from "./common";

<Meta
  title="Components/Dropdown"
  argTypes={{
    ...dropdownElementProps('SgdsDropdown'),
    default: {
      description: "default slot for SgdsDropdownItem element",
      table: {
        category: "slot: SgdsDropdown",
      },
    },
    menu: {
      table: { category: "part: SgdsDropdown" },
      description: partDescription,
    },
    showMenu: {
      control: "disable",
      description: "When invoked, opens the dropdown menu",
      table: {
        category: "methods: SgdsDropdown",
        type: {
          summary: "function",
        },
      },
    },
    hideMenu: {
      control: "disable",
      description: "When invoked, hides the dropdown menu",
      table: {
        category: "methods: SgdsDropdown",
        type: {
          summary: "function",
        },
      },
    },
    // sgds-dropdown-item
    active: {
      control: "boolean",
      description: "when true, sets the active stylings of .dropdown-item",
      table: {
        category: "props: SgdsDropdownItem",
        defaultValue: { summary: false },
        type: {
          summary: "boolean",
        },
      },
    },
    href: {
      control: "text",
      description: "Href attribute for anchor element in SgdsDropdownItem",
      table: {
        defaultValue: { summary: "" },
        category: "props: SgdsDropdownItem",
        type: {
          summary: "string",
        },
      },
    },
    disabledDI: {
      name: "disabled",
      control: "boolean",
      description: "Disables the dropdown item when true",
      table: {
        defaultValue: { summary: "false" },
        category: "props: SgdsDropdownItem",
        type: {
          summary: "string",
        },
      },
    },
    valueDI: {
      name: "value",
      control: "text",
      description: "Value of SgdsDropdownItem",
      table: {
        defaultValue: { summary: "undefined" },
        category: "props: SgdsDropdownItem",
        type: {
          summary: "string",
        },
      },
    },
  }}
/>

export const Template = ({
  noFlip,
  menuAlignRight,
  drop,
  popperOpts,
  togglerId,
  togglerText,
  variant,
  active,
  href,
  disabledDI,
  value,
  close,
  menuIsOpen,
  dropdownDisabled,
}) => {
  return html`
      <div class="d-flex justify-content-center" style="padding-top: 7rem;">
      <sgds-dropdown
        .togglerText=${togglerText}
        .noFlip=${noFlip}
        .drop=${drop}
        .menuAlignRight=${menuAlignRight}
        .popperOpts=${popperOpts}
        .togglerId=${togglerId}
        .variant=${variant}
        .close=${close}
        .menuIsOpen=${menuIsOpen}
        .disabled=${dropdownDisabled}
      >
        <sgds-dropdown-item
          .value=${value}
          .href=${href}
          .active=${active}
          .disabled=${disabledDI}
          >item #1 (argsTable controlled)</sgds-dropdown-item
        >
        <sgds-dropdown-item href="https://google.com" value="2">item #2</sgds-dropdown-item>
        <sgds-dropdown-item href="#" value="3" disabled
          >item #3</sgds-dropdown-item
        >
      </sgds-dropdown>
      </div>
  `;
};

# SgdsDropdown, SgdsDropdownItem

<Canvas>
  <Story
    name="Basic"
    height="300px"
    args={{
      togglerText: "Dropdown",
      variant: "secondary",
      href: "#",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Basic" />
